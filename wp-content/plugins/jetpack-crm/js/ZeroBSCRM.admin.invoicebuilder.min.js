/*! For license information please see ZeroBSCRM.admin.invoicebuilder.min.js.LICENSE.txt */
(()=>{var i={10:i=>{function zbscrm_JS_retrieve_invoice_data(i){const e={action:"zbs_get_invoice_data",sec:window.zbscrmjs_secToken,invid:i};jQuery.ajax({type:"POST",url:ajaxurl,data:e,dataType:"json",timeout:2e4,success:function(i){void 0!==i&&(window.zbs_invoice=i),void 0!==i.tax_linesObj&&(window.zbs_tax_table=i.tax_linesObj),void 0!==i.invoiceObj&&void 0!==i.invoiceObj.settings&&void 0!==i.invoiceObj.settings.invtax&&(window.zbs_tax=i.invoiceObj.settings.invtax),zbscrm_JS_draw_invoice_html()},error:function(){jQuery("#zbsCantLoadDataSingle").show(),jQuery("#zbs-edit-wrap, #zbs-screen-options").hide(),jQuery("#zbs_loader, #zbs_invoice").hide()}})}function zbscrm_JS_draw_invoice_html(){if(void 0!==window.zbs_invoice&&!1!==window.zbs_invoice){jQuery("#zbsCantLoadDataSingle").hide(),jQuery("#zbs-edit-wrap, #zbs-screen-options").show(),jQuery("#zbs_loader, #zbs_invoice").show();let i="";i=zbscrm_JS_draw_invoice_actions_html(window.zbs_invoice),i+='<div id="zbs_top_wrapper">',i+=zbscrm_JS_draw_invoice_logo_html(window.zbs_invoice),i+=zbscrm_JS_draw_invoice_top_right_form(window.zbs_invoice),i+="</div>",i+='<div style="clear:both">&nbsp;</div><div id="zbs_sub_wrapper" class="ui grid">',i+='<div class="six wide column">',i+=zbscrm_JS_draw_invoice_biz_info(window.zbs_invoice),i+="</div>",i+='<div class="ten wide column">',i+=zbscrm_JS_draw_send_invoice_to(window.zbs_invoice),i+="</div>",i+="</div>",i+=zbscrm_JS_draw_customise(window.zbs_invoice),i+=zbscrm_JS_draw_line_items(window.zbs_invoice),i+=zbscrm_JS_draw_invoice_totals(window.zbs_invoice),i+=zbscrm_JS_draw_partials_table(window.zbs_invoice),jQuery(".zbs_invoice_html_canvas").html(i),setTimeout((function(){jQuery("#zbs-invoice-custom-fields-holder table tr").appendTo(".zbs-invoice-topper table"),zbscrm_JS_bind_row_actions(),zbscrm_JS_bind_change_actions(),zbscrm_JS_bind_invoice_actions(),jQuery("#zbs_loader").hide()}),0)}else jQuery("#zbsCantLoadDataSingle").show(),jQuery("#zbs-edit-wrap, #zbs-screen-options").hide(),jQuery("#zbs_loader, #zbs_invoice").hide();zeroBSCRMJS_showContactLinkIf(jQuery("#zbs_invoice_contact").val()),zeroBSCRMJS_showCompanyLinkIf(jQuery("#zbs_invoice_company").val())}function zbscrm_JS_draw_invoice_actions_html(i){let e="";if(e+='<div id="zbs_invoice_actions">',e+='<div class="zbs-invoice-status">',e+='<span class="'+jpcrm.esc_attr(i.invoiceObj.status.toLowerCase())+' statty">'+jpcrm.esc_html(i.invoiceObj.status_label)+"</span>",e+="</div>",!i.invoiceObj.new_invoice){if(i.invoiceObj.portal_installed&&(e+='<a href="'+i.invoiceObj.preview_link+'" target="_blank" class="ui button black" id="zbs_invoice_preview">'+zbscrm_JS_invoice_lang("preview")+"</a>"),i.invoiceObj.pdf_installed){e+='<button id="zbs_invoicing_download_pdf" type="button" class="ui button black">'+zbscrm_JS_invoice_lang("dl_pdf")+"</button>";let n='<form target="_blank" method="post" id="zbs_invoicing_download_pdf_form" action="">';n+='<input type="hidden" name="zbs_invoicing_download_pdf" value="1" />',n+='<input type="hidden" name="zbs_invoice_id" value="'+i.invoiceObj.id+'" />',n+="</form>",jQuery("#wpbody").append(n)}if(void 0!==window.zbsJS_invEmailActive&&1==window.zbsJS_invEmailActive){const i=zbscrmJS_retrieveCurrentBillToEmail();void 0!==i&&""!==i&&zbscrm_JS_validateEmail(i)&&(e+='<button type="button" id="zbs_invoicing_send_email" class="ui button black">'+zbscrm_JS_invoice_lang("send_email")+"</button>")}}return i.invoiceObj.new_invoice&&(e+='<input type="hidden" name="zbscrm_newinvoice" value="1" />'),e+="</div>",e}function zbscrmJS_retrieveCurrentBillToEmail(){let i=jQuery("#zbs_inv_bill").val();if(void 0===i||!zbscrm_JS_validateEmail(i)){let e=window.zbs_invoice.invoiceObj.bill;e||void 0===window.zbsJS_prefillemail||void 0===window.zbsJS_prefillid||(e=window.zbsJS_prefillemail),i=e}return i}function zbscrm_JS_draw_invoice_logo_html(i){let e="",n="",o="";return i.invoiceObj.logo_url&&(n="hide",o="show"),e='<div id="zbs_invoice_logos">',e+='<div class="wh-logo '+n+'">',e+='<i class="fa fa-file-image-o" aria-hidden="true"></i><span class="wh-logo-text">+ '+zbscrm_JS_invoice_lang("add_logo")+"</span>",e+="</div>",e+='<div class="wh-logo-set '+o+'">',e+='<img id="wh-logo-set-img" src="'+jpcrm.esc_attr(i.invoiceObj.logo_url)+'" />',e+='<input type="hidden" name="zbsi_logo" id="logo" value="'+jpcrm.esc_attr(i.invoiceObj.logo_url)+'" />',e+='<div class="zbs-logo-options">',e+='<span class="zbs-update">'+zbscrm_JS_invoice_lang("update")+"</span>",e+='<span class="zbs-remove"> '+zbscrm_JS_invoice_lang("remove")+"</span>",e+="</div>",e+="</div>",e+="</div>",e}function zbscrm_JS_draw_invoice_top_right_form(i){let e="";if(e+='<div class="zbs-invoice-topper">',e+='<table class="form-table">',"1"!=i.invoiceObj.settings.hideid){let n="",o=-1;void 0!==i.invoiceObj.id&&(n=i.invoiceObj.id,o=i.invoiceObj.id),-1==n?(e+='<tr class="hide"><th></th><td>',e+='<input type="hidden" name="zbsinvid" value="'+o+'" />',e+="</td></tr>"):(e+='<tr class="wh-large zbs-invoice-number"><th><label for="no">'+zbscrm_JS_invoice_lang("invoice_number")+":</label></th>",e+="<td>",e+='<span class="zbs-inv-no">'+n+"</span>",e+='<input type="hidden" name="zbsinvid" value="'+o+'" />',e+="</td>",e+="</tr>")}if(e+='<tr class="wh-large jpcrm-invoice-status"><th><label for="status">'+zbscrm_JS_invoice_lang("invoice_status")+":</label></th>",e+="<td>",e+=function(i){let e='<select id="invoice-status" name="invoice_status">';const n=i.invoiceObj.status,o=[{value:"Draft",key:"status_draft"},{value:"Unpaid",key:"status_unpaid"},{value:"Paid",key:"status_paid"},{value:"Overdue",key:"status_overdue"},{value:"Deleted",key:"status_deleted"}];let t=!1;for(const i of o)e+="<option value="+i.value,n===i.value&&(e+=" selected",t=!0),e+=">"+zbscrm_JS_invoice_lang(i.key)+"</option>";t||""===n||(e+='<option value="'+jpcrm.esc_attr(n)+'" selected>'+jpcrm.esc_html(n)+"</option>");return e+="</select>",e}(i),e+="</td>",e+="</tr>",e+='<tr class="wh-large"><th><label for="date">'+zbscrm_JS_invoice_lang("invoice_date")+":</label></th>",e+="<td>",e+='<input type="date" name="zbsi_date" placeholder="yyyy-mm-dd" value="'+i.invoiceObj.date_date+'" />',e+="</td>",e+="</tr>",e+='<tr class="wh-large">',e+='<th><label for="ref">'+zbscrm_JS_invoice_lang("reference")+"</label></th>",e+="<td>","reftype"in i.invoiceObj.settings&&"autonumber"===i.invoiceObj.settings.reftype)if("draft"===i.invoiceObj.status){const n=i.invoiceObj.settings.refprefix,o=i.invoiceObj.settings.refnextnum,t=i.invoiceObj.settings.refsuffix,s=i.invoiceObj.settings.isfirstinv;e+='<span style="color:grey" title="'+zbscrm_JS_invoice_lang("nextref")+'">'+zbscrm_JS_invoice_lang("autogenerated")+": "+n+o+t+"</span>",s&&""===n&&""===t&&(e+='<br><a href="'+i.invoiceObj.settings.settings_slug+'"> '+zbscrm_JS_invoice_lang("refsettings")+"</a>")}else e+='<span class="zbs-inv-ref">'+i.invoiceObj.id_override+"</span>";else e+='<input type="text" name="zbsi_ref" id="ref" class="form-control widetext" placeholder="" value="'+jpcrm.esc_attr(i.invoiceObj.id_override)+'" autocomplete="'+Math.random()+'" />';return e+="</td>",e+="</tr>",void 0!==i.invoiceObj.due_date&&null!=i.invoiceObj.due_date&&0!=i.invoiceObj.due_date?(e+='<tr class="wh-large"><th><label for="due_date">'+zbscrm_JS_invoice_lang("due_date")+":</label></th>",e+="<td>",e+='<input type="date" name="zbsi_due_date" placeholder="yyyy-mm-dd" value="'+i.invoiceObj.due_date_date+'" />',e+="</td>",e+="</tr>"):(e+='<tr class="wh-large">',e+='<th><label for="due">'+zbscrm_JS_invoice_lang("due_date")+":</label></th>",e+="<td>",e+='<select id="zbsinv_due_days" name="zbsi_due" class="form-control" style="font-size:16px;">',e+='<option value = "-1">'+zbscrm_JS_invoice_lang("due","","none")+"</option>",e+='<option value = "0">'+zbscrm_JS_invoice_lang("due","","on")+"</option>",e+='<option value = "10">'+zbscrm_JS_invoice_lang("due","","ten")+"</option>",e+='<option value = "15">'+zbscrm_JS_invoice_lang("due","","fifteen")+"</option>",e+='<option value = "30">'+zbscrm_JS_invoice_lang("due","","thirty")+"</option>",e+='<option value = "45">'+zbscrm_JS_invoice_lang("due","","fortyfive")+"</option>",e+='<option value = "60">'+zbscrm_JS_invoice_lang("due","","sixty")+"</option>",e+='<option value = "90">'+zbscrm_JS_invoice_lang("due","","ninety")+"</option>",e+="</select>",e+="</td>",e+="</tr>"),"function"==typeof window.zbscrm_JS_draw_invoice_pro_top_right&&(e+=window.zbscrm_JS_draw_invoice_pro_top_right(i.invoiceObj)),void 0!==window.zbscrmjs_invoice_custom_fields&&window.zbscrmjs_invoice_custom_fields.length,e+="</table></div>",e+='<div class="clear"></div>',e}function zbscrm_JS_draw_send_invoice_to(i){let e=i.invoiceObj.invoice_contact,n=i.invoiceObj.invoice_company;"object"==typeof window.zbs_invoice.invoiceObj.invoice_contact&&void 0!==window.zbs_invoice.invoiceObj.invoice_contact.id&&(e=parseInt(window.zbs_invoice.invoiceObj.invoice_contact.id)),"object"==typeof window.zbs_invoice.invoiceObj.invoice_company&&void 0!==window.zbs_invoice.invoiceObj.invoice_company.id&&(n=parseInt(window.zbs_invoice.invoiceObj.invoice_company.id));let o=i.invoiceObj.bill_name;o||void 0===window.zbsJS_prefillemail||void 0===window.zbsJS_prefillid||(o=window.zbsJS_prefillname,void 0!==window.zbsJS_prefillobjtype&&(1==window.zbsJS_prefillobjtype&&-1==e&&(e=parseInt(window.zbsJS_prefillid)),2==window.zbsJS_prefillobjtype&&-1==n&&(n=parseInt(window.zbsJS_prefillid)),e<=0&&(e=-1),n<=0&&(n=-1)));let t="";return t+='<div id="billing-to">',t+='<div class="billing-to-title">',t+='<i class="linkify icon"></i> <span class="your-info-biz">'+zbscrm_JS_invoice_lang("send_to")+"</span>",t+="</div>",t+='<div class="form-table">',t+='<div class="wh-large inv-to-input">',t+='<div class="zbs-type-ahead-invoice">',t+='<input class="form-control typeahead" type="text" id="zbs_inv_bill" name="zbscq_bill" value="'+o+'" placeholder="'+zbscrm_JS_invoice_lang("bill_to")+'" />',t+="</div>",t+='<div class="edit-c"><a class="zbs-edit-assign-to" href="#">'+zbscrm_JS_invoice_lang("edit_record")+"</a></div>",t+="</div>",t+="</div>",t+="</div>",t+='<div class="clear"></div>',t+='<input type="hidden" id="zbs_invoice_contact" name="zbs_invoice_contact" value="'+e+'" />',t+='<input type="hidden" id="zbs_invoice_company" name="zbs_invoice_company" value="'+n+'" />',t}function zbscrm_JS_draw_customise(i){let e="";return e+='<div id="zbs-invoice-customiser">',e+='<div class="ui grid" style="margin: 0 0.5em;">',e+='<div class="eight wide column" style="padding:0">',e+='<span class="header" style="float:left;">'+zbscrm_JS_invoice_lang("customise")+"</span>",e+='<select class="form-control" id="invoice-customiser-type" name="invoice-customiser-type" id="invoice-customiser-type" style="width:30%;">',e+='<option value="quantity"',"quantity"===i.invoiceObj.invoice_hours_or_quantity&&(e+=' selected="selected"'),e+=">"+zbscrm_JS_invoice_lang("quantity")+"</option>",e+='<option value="hours"',"hours"===i.invoiceObj.invoice_hours_or_quantity&&(e+=' selected="selected"'),e+=">"+zbscrm_JS_invoice_lang("hours")+"</option>",e+="</select>",e+="</div>",e+="</div>",e+="</div>",e+='<div class="clear"></div>',e}function zbscrm_JS_draw_invoice_biz_info(i){let e="";return e+='<div id="zbs-business-info-wrapper">',e+='<div class="business-info-toggle">',e+='<i class="fa fa-chevron-circle-right" aria-hidden="true" style="color:black;"></i> <span class="your-info-biz">'+zbscrm_JS_invoice_lang("biz_info")+"</span>",e+="</div>",e+='<div class="business-info">',e+='<table class="table zbs-table">',e+="<tbody>",e+="<tr><td>"+i.invoiceObj.settings.bizname+"</td></tr>",e+="<tr><td>"+i.invoiceObj.settings.yourname+"</td></tr>",e+="<tr><td>"+i.invoiceObj.settings.businessextra+"</td></tr>",e+='<tr class="top-pad"><td>'+i.invoiceObj.settings.businessyouremail+"</td></tr>",e+="<tr><td>"+i.invoiceObj.settings.businessyoururl+"</td></tr>",e+="</tbody>",e+="</table>",e+='<span class="edit-or-add"><a href="'+i.invoiceObj.settings.biz_settings_slug+'" target="_blank">'+zbscrm_JS_invoice_lang("add_edit")+"</a></span>",e+="</div>",e+="</div>",e}function zbscrm_JS_draw_line_items(i){window.zbs_invoice_rownum=1;let e="";"function"==typeof window.zbscrm_JS_draw_invoiceCustomiserExtras&&(e+='<div class="clear" style="position:relative;margin:10px;height:40px">',e+=window.zbscrm_JS_draw_invoiceCustomiserExtras(i),e+="</div>"),e+='<div id="zbs-invoice-items">',e+='<table class="table">',e+="<thead>",e+="<th>"+zbscrm_JS_invoice_lang("description")+"</th>","quantity"===i.invoiceObj.invoice_hours_or_quantity?(e+='<th class="cen" id="zbs_inv_qoh">'+zbscrm_JS_invoice_lang("quantity")+"</th>",e+='<th class="cen" id = "zbs_inv_por" >'+zbscrm_JS_invoice_lang("price")+"</th>"):(e+='<th class="cen" id="zbs_inv_qoh">'+zbscrm_JS_invoice_lang("hours")+"</th>",e+='<th class="cen" id="zbs_inv_por">'+zbscrm_JS_invoice_lang("rate")+"</th>"),1==i.invoiceObj.settings.invtax&&(e+='<th class="cen taxhide">'+zbscrm_JS_invoice_lang("tax")+"</th>"),e+="<th>"+zbscrm_JS_invoice_lang("amount")+"</th>",e+="</thead>",e+='<tbody class="zbs-invoice-line-items">';let n="";if(i.invoiceObj.invoice_items)jQuery.each(i.invoiceObj.invoice_items,(function(e,o){n+=zbscrm_JS_generate_invoice_row(i,window.zbs_invoice_rownum,o)}));else{const e={title:"",desc:"",quantity:1,price:0,rate:0};n+=zbscrm_JS_generate_invoice_row(i,1,e)}return e+=n,e+="</tbody>",e+="</table>",e+='<div id="zbs-add-new-row"><i class="plus circle icon"></i>'+zbscrm_JS_invoice_lang("add_row")+"</div>",e+="</div>",e}function zbscrm_JS_draw_invoice_totals(i){let e="";e+='<div class="invoice-grand-total-wrapper ui grid">',e+='<div class="col-md-6 eight wide column"></div>',e+='<div class="col-md-6 inv-totals eight wide column">',e+='<div class="total-row">',e+='<div class="zlabel half">'+zbscrm_JS_invoice_lang("subtotal")+"</div>",e+='<div class="calc-value half ri" id="subtotal-value"></div>',e+="</div>",1==i.invoiceObj.settings.invdis&&(e+='<div class="total-row">',e+='<div class="zlabel one-four">'+zbscrm_JS_invoice_lang("discount")+"</div>",e+="<div class='two-four invoice-discount-total'>",e+='<input class = "form-control half" type="number" name="invoice_discount_total" id="invoice_discount_total" step="0.01" min="0" value="'+i.invoiceObj.totals.invoice_discount_total+'">',"m"===i.invoiceObj.totals.invoice_discount_type?e+='<select id="invoice_discount_type" name="invoice_discount_type" class="form-control half"><option value="%" >%</option><option value="m" selected>'+zbscrm_JS_invoice_lang("amount")+"</option></select>":e+='<select id="invoice_discount_type" name="invoice_discount_type" class="form-control half"><option value="%">%</option><option value="m">'+zbscrm_JS_invoice_lang("amount")+"</option></select>",e+="</div>",e+='<div id="discount-value" class = "one-four ri">0</div>',e+="</div>"),1==i.invoiceObj.settings.invpandp&&(e+='<div class="total-row pbot30">',e+='<div class="zlabel half">'+zbscrm_JS_invoice_lang("shipping")+"</div>",e+='<input class="zbs_gt zbsli_price-1 half ri topmm5" type="number" step="0.01" min="0" name="invoice_postage_total" id="invoice_postage_total" value="'+i.invoiceObj.totals.invoice_postage_total+'">',e+="</div>");const n=i.invoiceObj.totals;return n.taxes=i.invoiceObj.shipping_taxes,n.tax=i.invoiceObj.shipping_tax,1==i.invoiceObj.settings.invpandp&&1==i.invoiceObj.settings.invtax&&(e+='<div class="total-row pbot30">',e+='<div class="zlabel half">'+zbscrm_JS_invoice_lang("tax_on_shipping")+"</div>",e+='<div class="half ri topmm10">'+zbscrm_JS_output_tax_line(i,-1,n)+"</div>",e+="</div>"),e+='<div class="total-row-wrap" id="tax-total-block">',e+="</div>",e+='<div class="total-row grand-total">',e+='<div class="zlabel half">'+zbscrm_JS_invoice_lang("total")+"</div>",e+='<div class="calc-value half ri zbs-heavy" id="zbs-inv-grand-total"></div>',e+='<input type="hidden" name="zbs-inv-grand-total-store" id="zbs-inv-grand-total-store" value="0" />',e+="</div>",e+="</div>",e+="</div>",e}function zbscrm_JS_draw_partials_table(i){if(void 0!==window.zbs_invoice.invoiceObj.settings.invoicing_disable_partial_payments&&1===window.zbs_invoice.invoiceObj.settings.invoicing_disable_partial_payments)return"";let e='<div id="zbs-invoice-partial-payments" class = "ui grid">';return e+='<div class="col-md-6 eight wide column"></div>',e+='<div class="col-md-6 eight wide column">',window.invoice_partial=!1,jQuery.each(i.invoiceObj.partials,(function(i,n){let o="";0==i&&(e+='<div class="partial-row-tab">'+zbscrm_JS_invoice_lang("partial_table")+"</div>"),e+='<div class="partial-row">';let t="",s="";void 0!==n.type&&void 0!==n.type_accounting&&"credit"===n.type_accounting&&(t=" ("+n.type+")");let a="",c="";void 0!==n.type_accounting&&"credit"===n.type_accounting&&(a="(",c=")");let _=n.total;o=a+n.total+c;let l=zbscrm_JS_invoice_lang("incomplete","Incomplete");void 0!==n.status&&(l=n.status),void 0!==n.status_bool&&1!=n.status_bool&&(s+="<br />("+o+" - "+l+")",o="0.0",_="0.0");const r=zbscrm_JS_transaction_edit_URL(n.id);e+='<div class="zlabel half"><a href="'+r+'" target="_blank">'+n.ref+t+"</a>"+s+"</div>",e+='<div class="zbs-partial-value half ri">'+parseFloat(_).toFixed(zbs_root.currencyOptions.noOfDecimals)+"</div>",e+="</div>",window.invoice_partial=!0})),window.invoice_partial&&(e+='<div id="amount-due" class="due-row">',e+='<div class="amt-due-label zlabel half">'+zbscrm_JS_invoice_lang("amount_due")+"</div>",e+='<div class="amt-due-amt half ri" id="inv-amount-due"></div>',e+="</div>"),e+="</div>",e+="</div>",e}function zbscrm_JS_generate_invoice_row(i,e,n){let o='<tr class="zbs-invoice-row zbs-item-block zbs-rowid'+e+'" data-rowid="'+e+'">',t="";n.title&&(t=n.title);let s="";return n.desc&&(s=n.desc),o+='<td class="first">',o+='<input class="form-control zbs-item-name" type="text" name = "zbsli_itemname[]" value = "'+t+'" placeholder="'+zbscrm_JS_invoice_lang("rowtitleplaceholder")+'" /><br/>',o+='<textarea class="form-control" name = "zbsli_itemdes[]" placeholder="'+zbscrm_JS_invoice_lang("rowdescplaceholder")+'">'+s+"</textarea>",o+="</td>",o+='<td class="second">',o+='<input type="number" class="zbsli_quan zbsli_quan'+e+' form-control quan" data-zbsr="'+e+'" name = "zbsli_quan[]" value = "'+n.quantity+'" min="0">',o+="</td>",o+='<td class="third">',o+='<input type="number" class="zbsli_price zbsli_price'+e+' form-controm price" data-zbsr="'+e+'" name = "zbsli_price[]" value = "'+n.price+'" step="0.01">',o+="</td>",1==i.invoiceObj.settings.invtax&&(o+='<td class="forth">',o+=zbscrm_JS_output_tax_line(i,e,n),o+="</td>"),o+='<td class="fifth row-amount row-amount-'+e+'">',o+="</td>",o+='<td><div class="remove-row" data-rowid="'+e+'"><i class="times circle icon"></i></div></td>',o+="</tr>",window.zbs_invoice_rownum++,o}function zbscrm_JS_output_tax_line(i,e,n){let o;o=void 0!==n.taxes&&n.taxes?parseInt(n.taxes):0;let t="";t+=-1==e?'<select name="zbsli_tax_ship" class="tax-select tax-select'+e+' form-control" data-zbsr="'+e+'">':'<select name="zbsli_tax[]" class="tax-select tax-select'+e+' form-control" data-zbsr="'+e+'">';let s="";return 0==o&&(s="selected"),t+='<option value="0" '+s+">"+zbscrm_JS_invoice_lang("no_tax")+'</option><optgroup label="'+zbscrm_JS_invoice_lang("taxgrouplabel")+'">',jQuery.each(i.tax_linesObj,(function(i,e){s=o==e.id?"selected":"",t+='<option value="'+e.id+'" '+s+">"+e.name+" : "+e.rate+"%</option>"})),t+="</optgroup>",t+="</select>",t}function zbscrm_JS_add_empty_row(){let i="";const e={title:"",desc:"",quantity:1,price:0,rate:0};i+=zbscrm_JS_generate_invoice_row(window.zbs_invoice,window.zbs_invoice_rownum,e),jQuery(".zbs-invoice-line-items").append(i),zbscrm_JS_bind_row_actions()}function zbscrm_JS_bind_due_days(){void 0!==window.zbs_invoice&&void 0!==window.zbs_invoice.invoiceObj&&void 0!==window.zbs_invoice.invoiceObj.due&&jQuery("#zbsinv_due_days").val(window.zbs_invoice.invoiceObj.due)}function zbscrm_JS_bind_row_actions(){jQuery("#zbs-add-new-row").off("click").on("click",(function(){zbscrm_JS_add_empty_row(window.zbs_invoice)})),jQuery(".remove-row").off("click").on("click",(function(){const i=jQuery(this).data("rowid");jQuery(".zbs-rowid"+i).remove(),setTimeout((function(){0===jQuery(".zbs-invoice-row").length&&zbscrm_JS_add_empty_row(window.zbs_invoice)}),0),zbscrm_JS_calcTotals()})),jQuery('.zbs-item-block input[type="number"]').on("keyup mouseup",(function(){const i=jQuery(this).data("zbsr");let e=0,n=0;jQuery(this).hasClass("quan")&&(e=jQuery(this).val()),jQuery(this).hasClass("price")&&(n=jQuery(this).val()),jQuery(this).parent().siblings().find('input[type="number"]').each((function(i,o){jQuery(o).hasClass("quan")&&(e=o.value),jQuery(o).hasClass("price")&&(n=o.value)}));const o=e*n;jQuery(this).parent().siblings(".row-amount-"+i).html(o.toFixed(zbs_root.currencyOptions.noOfDecimals)),zbscrm_JS_calcTotals()})),jQuery(".tax-select").on("change",(function(){zbscrm_JS_calcTotals()}))}function zbscrm_JS_calculate_invoice_row_subtotals(){jQuery(".zbs-invoice-row").each((function(i,e){let n=0,o=0,t=1;jQuery(e).children().find('input[type="number"]').each((function(){t=jQuery(this).data("zbsr"),jQuery(this).hasClass("quan")&&(n=jQuery(this).val()),jQuery(this).hasClass("price")&&(o=jQuery(this).val())}));const s=n*o;jQuery(".row-amount-"+t).html(s.toFixed(zbs_root.currencyOptions.noOfDecimals)),zbscrm_JS_calculate_invoice_subtotal()}))}function zbscrm_JS_calculate_invoice_subtotal(){let i=0;jQuery(".row-amount").each((function(){let e=jQuery(this).html();""===e&&(e=0),e=parseFloat(e),i+=e})),jQuery("#subtotal-value").html(i.toFixed(zbs_root.currencyOptions.noOfDecimals))}function zbscrm_JS_calculate_invoice_tax_table(){const i=[],e=[],n=[];let o=0,t=-1,s=-1;jQuery(".tax-select").each((function(a){if(t=jQuery(this).val(),s=jQuery(this).data("zbsr"),-1==s)i[a]=jQuery(".zbsli_price"+s).val(),n[a]=1;else{const e=parseFloat(jQuery(".zbsli_quan"+s).val()),o=parseFloat(jQuery(".zbsli_price"+s).val());isNaN(e)||isNaN(o)?i[a]=0:i[a]=e*o,n[a]=0}if(o+=i[a],t>0){if(this.options[this.selectedIndex].classList.contains("zbs-fixed-tax")){const n=t;e[a]=n/i[a]}else{const i=zbscrm_JS_pickTaxRate(t);e[a]=i.id}}else e[a]=0})),zbscrm_JS_calculate_tax_amounts(i,e,n)}function zbscrm_JS_pickTaxRate(i){let e=!1;return jQuery.each(window.zbs_invoice.tax_linesObj,(function(n,o){void 0!==o.id&&o.id==i&&(e=o)})),e}function zbscrm_JS_calculate_tax_amounts(i,e,n){let o=parseFloat(jQuery("#discount-value").html());isNaN(o)&&(o=0);const t=parseFloat(jQuery("#subtotal-value").html()),s=new Array,a=new Array;let c=0;c=o>0&&0!==t?o/t:0;for(let _=0;_<i.length;_++)if(c=1===n[_]||0===t?0:o/t,0==e[_])s[_]=0,a[_]=0;else{const n=zbscrm_JS_pickTaxRate(e[_]),o=parseFloat(n.rate);s[_]=(1-c)*i[_]*o/100,a[_]=e[_]}const _=new Object;for(let e=0;e<i.length;e++)_[a[e]]=0;for(let e=0;e<i.length;e++)_[a[e]]=_[a[e]]+s[e];let l="";jQuery.each(_,(function(i){if(i>0){const e=zbscrm_JS_pickTaxRate(i);l+='<div class="total-row row">',l+='<div class="tax-name third zlabel">'+e.name+"</div>",l+='<div class="tax-rate third ri">('+e.rate+"%)</div>",l+='<div class="tax-amt zbs-total-tax third ri">'+_[i].toFixed(zbs_root.currencyOptions.noOfDecimals)+"</div>",l+="</div>"}})),jQuery("#tax-total-block").html(l)}function zbscrm_JS_calc_grandtotal(){let i=0;i+=parseFloat(jQuery("#subtotal-value").html()),1==window.zbs_invoice.invoiceObj.settings.invdis&&(i-=parseFloat(jQuery("#discount-value").html())),1==window.zbs_invoice.invoiceObj.settings.invpandp&&(i+=parseFloat(jQuery("#invoice_postage_total").val())),1==window.zbs_invoice.invoiceObj.settings.invtax&&jQuery(".zbs-total-tax").each((function(){const e=parseFloat(jQuery(this).html());isNaN(e)||(i+=e)})),jQuery("#zbs-inv-grand-total").html(i.toFixed(zbs_root.currencyOptions.noOfDecimals)),jQuery("#zbs-inv-grand-total-store").val(i.toFixed(zbs_root.currencyOptions.noOfDecimals)),zbscrm_JS_calc_amount_due()}function zbscrm_JS_calc_amount_due(){if(window.invoice_partial){let i=parseFloat(jQuery("#zbs-inv-grand-total").html());jQuery(".partial-row").each((function(e,n){let o=jQuery(".zbs-partial-value",n).text(),t=1;o.includes("(")&&(o=o.replace("(","").replace(")",""),t=-1),o=parseFloat(o)*t,i-=o})),jQuery("#inv-amount-due").html(i.toFixed(zbs_root.currencyOptions.noOfDecimals))}}function zbscrm_JS_bind_change_actions(){jQuery("#invoice-customiser-type").on("change",(function(){"hours"===jQuery(this).val()?(jQuery("#zbs_inv_qoh").html("Hours"),jQuery("#zbs_inv_por").html("Rate")):(jQuery("#zbs_inv_qoh").html("Quantity"),jQuery("#zbs_inv_por").html("Price"))})),jQuery("#invoice_postage_total").on("change",(function(){jQuery("#pandptotal").html(window.zbs_root.currencyOptions.currencyStr+parseFloat(jQuery(this).val()).toFixed(zbs_root.currencyOptions.noOfDecimals)),zbscrm_JS_calcTotals()})),jQuery("#invoice_discount_total, #invoice_discount_type").on("change",(function(){zbscrm_JS_calcTotals()})),jQuery("#invoice_postage_tax").on("keyup mouseup",(function(){jQuery(this).val()&&zbscrm_JS_calcTotals()}))}function zbscrm_JS_calculatediscount(){const i=jQuery("#invoice_discount_total").val(),e=jQuery("#invoice_discount_type").val();if(i)if("m"===e)jQuery("#invoice_discount_total_value").val(parseFloat(i).toFixed(zbs_root.currencyOptions.noOfDecimals)),jQuery("#discount-value").html(parseFloat(i).toFixed(zbs_root.currencyOptions.noOfDecimals));else{const e=parseFloat(jQuery("#subtotal-value").html())*i/100;jQuery("#invoice_discount_total_value").val(parseFloat(e).toFixed(zbs_root.currencyOptions.noOfDecimals)),jQuery("#discount-value").html(parseFloat(e).toFixed(zbs_root.currencyOptions.noOfDecimals))}}function zbscrm_JS_invoice_typeahead_bind(){const i=-1===wpApiSettings.root.indexOf("?rest_route=/")?"?":"&",e=wpApiSettings.root+"zbscrm/v1/concom"+i+"_wpnonce="+wpApiSettings.nonce,n=new Bloodhound({datumTokenizer:function(i){return Bloodhound.tokenizers.whitespace(i.name_email)},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:e,ttl:3e5,ajax:{type:"POST",cache:!1,data:{id:-1,obj_type:-1},complete:function(){n.clearRemoteCache()}}},remote:{url:wpApiSettings.root+"zbscrm/v1/concom"+i+"_wpnonce="+wpApiSettings.nonce+"&s=%QUERY",wildcard:"%QUERY"}});n.initialize(),jQuery("#billing-to .typeahead").typeahead({minLength:1,highlight:!0,hint:!0},{name:"customers_and_companies",displayKey:"name_email",display:function(i){return i.name.trim()?i.name:i.email?i.email:"Contact #"+i.id},source:n.ttAdapter(),limit:10,templates:{suggestion:function(i){const e=2==i.obj_type?'<i class="building icon"></i>':'<i class="user icon"></i>',n=i.name.trim()?i.name:zeroBSCRMJS_globViewLang("contact")+" #"+i.id,o=i.email?jpcrm.esc_html(i.email):"<i>"+zbscrm_JS_invoice_lang("noemail")+"</i>";return'<div class="sug-wrap"><div class="ico">'+e+'</div><div class="inner"><div class="name">'+jpcrm.esc_html(n)+'</div><div class="email">'+o+'</div></div><div class="clear"</div></div>'},empty:function(){let i='<a href="'+window.zbs_invoice.invoiceObj.settings.addnewcontacturl+'" target="_blank">'+zbscrm_JS_invoice_lang("addnewcontact")+"</a>";return window.zbs_invoice.invoiceObj.settings.b2bmode&&(i+=" "+zbscrm_JS_invoice_lang("or")+" ",i+='<a href="'+window.zbs_invoice.invoiceObj.settings.addnewcompanyurl+'" target="_blank">'+zbscrm_JS_invoice_lang("newcompany")+"</a>"),'<div class="zbs-add-new-js-assign-to"><i class="address book icon"></i>  '+i+"</div>"}}}).on("typeahead:selected",(function(i,e){if(jQuery("#zbs_invoicing_send_email").hide(),void 0!==e.id&&null!==e.id&&""!==e.id){const i=zbscrmJS_retrieveCurrentBillToEmail();void 0!==i&&i&&zbscrm_JS_validateEmail(i)&&jQuery("#zbs_invoicing_send_email").show()}1==e.obj_type?(jQuery("#zbs_invoice_contact").val(e.id),jQuery("#zbs_invoice_company").val(-1),zeroBSCRMJS_showContactLinkIf(e.id),zeroBSCRMJS_showCompanyLinkIf(-1)):2==e.obj_type&&(jQuery("#zbs_invoice_company").val(e.id),jQuery("#zbs_invoice_contact").val(-1),zeroBSCRMJS_showContactLinkIf(-1),zeroBSCRMJS_showCompanyLinkIf(e.id))})).on("typeahead:change",(function(i,e){if(jQuery("#zbs_invoicing_send_email").hide(),void 0!==e.id&&null!==e.id&&""!==e.id){const i=zbscrmJS_retrieveCurrentBillToEmail();void 0!==i&&""!==i&&zbscrm_JS_validateEmail(i)&&jQuery("#zbs_invoicing_send_email").show()}else""==jQuery("#zbs_inv_bill").val()&&(jQuery("#zbs_invoice_contact").val(-1),jQuery("#zbs_invoice_company").val(-1),zeroBSCRMJS_showContactLinkIf(-1),zeroBSCRMJS_showCompanyLinkIf(-1))})),setTimeout((function(){const i=(new Date).getTime();let e=jQuery("#billing-to .typeahead").attr("data-autokey");void 0===e&&(e="-typeahead");const n="zbsobj-"+i+"-"+e;jQuery("#billing-to .typeahead").attr("autocomplete",n).attr("name",n)}),0),jQuery(this).on("typeahead:open",(function(){const i=(new Date).getTime();let e=jQuery("#billing-to .typeahead").attr("data-autokey");void 0===e&&(e="-typeahead");const n="zbsobj-"+i+"-"+e;jQuery("#billing-to .typeahead").attr("autocomplete",n).attr("name",n)}))}function zbscrm_JS_bindInitialLearnLinks(){if(void 0!==window.zbs_invoice.invoiceObj&&void 0!==window.zbs_invoice.invoiceObj.invoice_contact&&"0"!=window.zbs_invoice.invoiceObj.invoice_contact&&"-1"!=window.zbs_invoice.invoiceObj.invoice_contact){const i=parseInt(window.zbs_invoice.invoiceObj.invoice_contact);i>0&&zeroBSCRMJS_showContactLinkIf(i)}if(void 0!==window.zbs_invoice.invoiceObj&&void 0!==window.zbs_invoice.invoiceObj.invoice_company&&"0"!=window.zbs_invoice.invoiceObj.invoice_company&&"-1"!=window.zbs_invoice.invoiceObj.invoice_company){const i=parseInt(window.zbs_invoice.invoiceObj.invoice_company);i>0&&zeroBSCRMJS_showCompanyLinkIf(i)}}function zeroBSCRMJS_showContactLinkIf(i){if(jQuery("#zbs-invoice-learn-nav .zbs-invoice-quicknav-contact").remove(),null!=i&&""!==i&&(i=parseInt(i))>0){const e='<a target="_blank" style="margin-left:6px;" class="zbs-invoice-quicknav-contact jpcrm-button" href="'+window.zbs_invoice.invoiceObj.settings.contacturlprefix+i+'">'+window.zbsMetaboxFilesLang.viewcontact+"</a>";jQuery("#zbs-invoice-learn-nav").prepend(e)}}function zeroBSCRMJS_showCompanyLinkIf(i){if(jQuery("#zbs-invoice-learn-nav .zbs-invoice-quicknav-company").remove(),null!=i&&""!==i&&(i=parseInt(i))>0){const e='<a target="_blank" style="margin-left:6px;" class="zbs-invoice-quicknav-company jpcrm-button" href="'+window.zbs_invoice.invoiceObj.settings.companyurlprefix+i+'">'+window.zbsMetaboxFilesLang.viewcompany+"</a>";jQuery("#zbs-invoice-learn-nav").prepend(e)}}function zbscrm_JS_bind_invoice_actions(){jQuery(".zbs-add-memo-trigger").off("click").on("click",(function(){jQuery(".zbs-memo-box").show(),jQuery(".zbs-add-memo-trigger").hide()})),jQuery(".zbs-memo-hide").off("click").on("click",(function(){jQuery(".zbs-memo-box").hide(),jQuery(".zbs-add-memo-trigger").show()})),jQuery(".wh-logo-set .zbs-remove").off("click").on("click",(function(){jQuery("#wh-logo-set-img").attr("src","").hide(),jQuery("#zbs_invoice_logo").val(""),jQuery(".wh-logo").removeClass("hide").show(),jQuery(".wh-logo-set input").val(""),jQuery(".wh-logo-set").hide()})),jQuery(".business-info-toggle").off("click").on("click",(function(i){i.preventDefault(),jQuery(".business-info-toggle i").hasClass("fa-chevron-circle-right")?(jQuery(".business-info-toggle i").removeClass("fa-chevron-circle-right").addClass("fa-chevron-circle-down"),jQuery(".business-info").show()):(jQuery(".business-info-toggle i").removeClass("fa-chevron-circle-down").addClass("fa-chevron-circle-right"),jQuery(".business-info").hide())})),jQuery(".wh-logo, .wh-logo-set .zbs-update").off("click").on("click",(function(i){var e;i.preventDefault(),e||(e=wp.media.frames.zbs_media_frame=wp.media({className:"media-frame zbs-media-frame",frame:"select",multiple:!1,library:{type:"image"}})).on("select",(function(){const i=e.state().get("selection").first().toJSON();jQuery("#logo").val(i.url),jQuery("#wh-logo-set-img").attr("src",i.url).show(),jQuery(".wh-logo-set").show(),jQuery(".wh-logo").hide()})),e.open()})),jQuery("#zbs_invoicing_download_pdf").off("click").on("click",(function(i){i.preventDefault(),jQuery("#zbs_invoicing_download_pdf_form").submit()})),zbscrm_JS_bind_due_days(),zbscrm_JS_bindDateRangePicker(),zbscrm_JS_invoice_typeahead_bind(),zbscrm_JS_bindInitialLearnLinks(),zbscrm_JS_calculate_invoice_row_subtotals(),zbscrm_JS_calcTotals(),jQuery("#zbs_invoicing_send_email").off("click").on("click",(function(){zbscrmJS_sendInvoiceModal()}))}function zbscrmJS_sendInvoiceModal(){let i="";const e=zbscrmJS_retrieveCurrentBillToEmail();if(void 0!==e&&e&&zbscrm_JS_validateEmail(e)&&(i=e),void 0!==i&&i&&zbscrm_JS_validateEmail(i)){let e='<div id="zbs_invoice_email_modal_opts">';if(e+='<div class="zbs-invoice-email-modal-field">',e+='<label for="zbs_invoice_email_modal_toemail">'+zbscrm_JS_invoice_lang("toemail")+"</label>",e+='<input type="email" id="zbs_invoice_email_modal_toemail" value="'+i+'" placeholder="'+zbscrm_JS_invoice_lang("toemailplaceholder")+'" />',e+="</div>",jQuery(".zbsFileLine").length>0){e+='<div class="zbs-invoice-email-modal-field">';let i="";jQuery("#zbsc_sendattachments").is(":checked")&&(i='checked="checked" '),e+='<input type="checkbox" id="zbs_invoice_email_modal_attachassoc" value="1" '+i+"/>",e+='<label for="zbs_invoice_email_modal_attachassoc">'+zbscrm_JS_invoice_lang("attachassoc")+"</label>",e+="</div>"}e+='<div class="zbs-invoice-email-modal-field">',e+='<input type="checkbox" id="zbs_invoice_email_modal_attachaspdf" value="1" '+'checked="checked" '+"/>",e+='<label for="zbs_invoice_email_modal_attachaspdf">'+zbscrm_JS_invoice_lang("attachpdf")+"</label>",e+="</div>",e+="</div>",swal({title:zbscrm_JS_invoice_lang("send_email"),html:'<div class="ui segment">'+zbscrm_JS_invoice_lang("sendthisemail")+e+"</div>",type:"question",showCancelButton:!0,confirmButtonColor:"#000",cancelButtonColor:"#fff",cancelButtonText:'<span style="color: #000">Cancel</span>',confirmButtonText:zbscrm_JS_invoice_lang("sendthemail")}).then((function(i){if(i.value){const i=jQuery("#zbs_invoice_email_modal_toemail").val();if(void 0!==i&&i&&zbscrm_JS_validateEmail(i)&&window.invoice_id>0){let e=-1;jQuery("#zbs_invoice_email_modal_attachassoc").length>0&&jQuery("#zbs_invoice_email_modal_attachassoc").is(":checked")&&(e=1);let n=-1;jQuery("#zbs_invoice_email_modal_attachaspdf").length>0&&jQuery("#zbs_invoice_email_modal_attachaspdf").is(":checked")&&(n=1);const o={id:window.invoice_id,email:i,attachassoc:e,attachpdf:n};swal.fire({title:zbscrm_JS_invoice_lang("sendingemail"),html:'<div style="clear:both">&nbsp;</div><div class="ui active loader" style="margin-top:2em;padding-bottom:2em"></div><div style="clear:both">&nbsp;</div>',showConfirmButton:!1,showCancelButton:!1,allowOutsideClick:!1}),zbscrmJS_sendInvoiceEmail(o)}else swal.fire(zbscrm_JS_invoice_lang("sendneedsassignment"))}}))}else swal.fire(zbscrm_JS_invoice_lang("sendneedsassignment"))}function zbscrmJS_sendInvoiceEmail(i){window.zbsInvBlocker||(window.zbsInvBlocker=!0,void 0!==i.id&&i.id>0&&void 0!==i.email&&zbscrm_JS_validateEmail(i.email)&&(i.action="zbs_invoice_send_invoice",i.security=jQuery("#inv-ajax-nonce").val(),jQuery.ajax({url:ajaxurl,type:"POST",data:i,dataType:"json",success:function(){swal(zbscrm_JS_invoice_lang("senttitle"),zbscrm_JS_invoice_lang("sent"),"info"),window.zbsInvBlocker=!1},error:function(i){console.error("senderr",i),swal(zbscrm_JS_invoice_lang("senderrortitle")+" #19v3",zbscrm_JS_invoice_lang("senderror"),"error"),window.zbsInvBlocker=!1}})))}function zbscrm_JS_transaction_edit_URL(i){return zeroBSCRMJS_obj_editLink("transaction",i)}function zbscrm_JS_calcTotals(){zbscrm_JS_calculate_invoice_subtotal(),zbscrm_JS_calculatediscount(),zbscrm_JS_calculate_invoice_tax_table(),zbscrm_JS_calc_grandtotal()}function zbscrm_JS_invoice_lang(i,e,n){if(void 0===e&&(e=""),void 0!==window.zbs_invoice.invoiceObj.settings.lang[i]){if(void 0===n)return window.zbs_invoice.invoiceObj.settings.lang[i];if(void 0!==window.zbs_invoice.invoiceObj.settings.lang[i][n])return window.zbs_invoice.invoiceObj.settings.lang[i][n]}return e}window.zbs_invoice=!1,window.zbs_tax=!1,window.zbs_tax_table=!1,window.zbsInvBlocker=!1,window.invoice_id=0,jQuery((function(){jQuery(".handlediv").remove(),jQuery(".ui-sortable-handle").remove(),jQuery(".hndle").css("cursor","default"),window.invoice_id=jQuery(".zbs_invoice_html_canvas").data("invid"),zbscrm_JS_retrieve_invoice_data(window.invoice_id),jQuery("#invoice_tax_total").val()>0&&jQuery("#invoice_totals .tax_total").show()})),i.exports={zbscrm_JS_retrieve_invoice_data:zbscrm_JS_retrieve_invoice_data,zbscrm_JS_draw_invoice_html:zbscrm_JS_draw_invoice_html,zbscrm_JS_draw_invoice_actions_html:zbscrm_JS_draw_invoice_actions_html,zbscrmJS_retrieveCurrentBillToEmail:zbscrmJS_retrieveCurrentBillToEmail,zbscrm_JS_draw_invoice_logo_html:zbscrm_JS_draw_invoice_logo_html,zbscrm_JS_draw_invoice_top_right_form:zbscrm_JS_draw_invoice_top_right_form,zbscrm_JS_draw_send_invoice_to:zbscrm_JS_draw_send_invoice_to,zbscrm_JS_draw_customise:zbscrm_JS_draw_customise,zbscrm_JS_draw_invoice_biz_info:zbscrm_JS_draw_invoice_biz_info,zbscrm_JS_draw_line_items:zbscrm_JS_draw_line_items,zbscrm_JS_draw_invoice_totals:zbscrm_JS_draw_invoice_totals,zbscrm_JS_draw_partials_table:zbscrm_JS_draw_partials_table,zbscrm_JS_generate_invoice_row:zbscrm_JS_generate_invoice_row,zbscrm_JS_output_tax_line:zbscrm_JS_output_tax_line,zbscrm_JS_add_empty_row:zbscrm_JS_add_empty_row,zbscrm_JS_bind_due_days:zbscrm_JS_bind_due_days,zbscrm_JS_bind_row_actions:zbscrm_JS_bind_row_actions,zbscrm_JS_calculate_invoice_row_subtotals:zbscrm_JS_calculate_invoice_row_subtotals,zbscrm_JS_calculate_invoice_subtotal:zbscrm_JS_calculate_invoice_subtotal,zbscrm_JS_calculate_invoice_tax_table:zbscrm_JS_calculate_invoice_tax_table,zbscrm_JS_pickTaxRate:zbscrm_JS_pickTaxRate,zbscrm_JS_calculate_tax_amounts:zbscrm_JS_calculate_tax_amounts,zbscrm_JS_calc_grandtotal:zbscrm_JS_calc_grandtotal,zbscrm_JS_calc_amount_due:zbscrm_JS_calc_amount_due,zbscrm_JS_bind_change_actions:zbscrm_JS_bind_change_actions,zbscrm_JS_calculatediscount:zbscrm_JS_calculatediscount,zbscrm_JS_invoice_typeahead_bind:zbscrm_JS_invoice_typeahead_bind,zbscrm_JS_bindInitialLearnLinks:zbscrm_JS_bindInitialLearnLinks,zeroBSCRMJS_showContactLinkIf:zeroBSCRMJS_showContactLinkIf,zeroBSCRMJS_showCompanyLinkIf:zeroBSCRMJS_showCompanyLinkIf,zbscrm_JS_bind_invoice_actions:zbscrm_JS_bind_invoice_actions,zbscrmJS_sendInvoiceModal:zbscrmJS_sendInvoiceModal,zbscrmJS_sendInvoiceEmail:zbscrmJS_sendInvoiceEmail,zbscrm_JS_transaction_edit_URL:zbscrm_JS_transaction_edit_URL,zeroBSCRMJS_invEditLang:function(i){return void 0!==window.zbsInvoiceBuilderLang[i]?window.zbsInvoiceBuilderLang[i]:""},zbscrm_JS_calcTotals:zbscrm_JS_calcTotals,zbscrm_JS_invoice_lang:zbscrm_JS_invoice_lang}}},e={};var n=function __webpack_require__(n){var o=e[n];if(void 0!==o)return o.exports;var t=e[n]={exports:{}};return i[n](t,t.exports,__webpack_require__),t.exports}(10),o=window="undefined"==typeof window?{}:window;for(var t in n)o[t]=n[t];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();